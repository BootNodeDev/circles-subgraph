specVersion: 0.0.3
description: A secure & decentralized way to address resources on and off the blockchain using simple, human-readable names. Access domains and transfer history.
repository: https://github.com/CirclesUBI/circles-subgraph/
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: Hub
#    network: mainnet
    source:
      address: '0xCfEB869F69431e42cdB54A4F4f105C19C080A601'
      abi: Hub
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.2
      language: wasm/assemblyscript
      file: ./src/hub.ts
      entities:
        - Hub
      abis:
        - name: Hub
          file: ./node_modules/circles-contracts/build/contracts/Hub.json
      eventHandlers:
        - event: Signup(indexed address,address)
          handler: handleSignup
#   - kind: ethereum/contract
#     name: GnosisSafe
#     network: mainnet
#     source:
#       abi: GnosisSafe
#     mapping:
#       kind: ethereum/events
#       apiVersion: 0.0.2
#       language: wasm/assemblyscript
#       file: ./src/gnosisSafe.ts
#       entities:
#       abis:
#         - name: GnosisSafe
#           file: ./node_modules/@gnosis.pm/safe-contracts/build/contracts/GnosisSafe.json
#       eventHandlers:
#         - event: ExecutionFailed(bytes32)
#           handler: ExecutionFailed